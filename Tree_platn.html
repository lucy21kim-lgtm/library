<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ë‚˜ë¬´ë¥¼ ì‹¬ì€ ì‚¬ëŒ - ìì„ ìš”ì•½ ê²Œì„</title>
    <style>
        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: #f0f7f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        h1 { color: #2e7d32; }
        .instruction { margin-bottom: 20px; color: #555; }
        
        /* ê²Œì„ ë³´ë“œ */
        #game-container {
            display: flex;
            gap: 20px;
            max-width: 1000px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* ì™¼ìª½: ì¹´ë“œ ë”ë¯¸ */
        #card-pool {
            width: 300px;
            min-height: 400px;
            background: #fff;
            border: 2px dashed #8bc34a;
            border-radius: 15px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* ì˜¤ë¥¸ìª½: ì •ë‹µ ìŠ¬ë¡¯ */
        #drop-zones {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .slot {
            width: 500px;
            height: 100px;
            background: #e8f5e9;
            border: 2px solid #c8e6c9;
            border-radius: 10px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            position: relative;
        }

        .slot::before {
            content: attr(data-step);
            position: absolute;
            left: -40px;
            font-weight: bold;
            color: #2e7d32;
            font-size: 1.2rem;
        }

        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            cursor: grab;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 15px;
            user-select: none;
        }

        .card img {
            width: 60px;
            height: 60px;
            border-radius: 5px;
            object-fit: cover;
        }

        .card p {
            margin: 0;
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .dragging { opacity: 0.5; }

        /* ë²„íŠ¼ */
        #check-btn {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 1.2rem;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: 0.3s;
        }

        #check-btn:hover { background-color: #388e3c; }
        
        .success { background-color: #c8e6c9 !important; border-color: #4caf50 !important; }
        .error { background-color: #ffcdd2 !important; border-color: #f44336 !important; }
    </style>
</head>
<body>

    <h1>ğŸŒ³ ë‚˜ë¬´ë¥¼ ì‹¬ì€ ì‚¬ëŒ ìš”ì•½í•˜ê¸°</h1>
    <p class="instruction">ì´ì•¼ê¸°ì˜ ìˆœì„œì— ë§ê²Œ ì¹´ë“œë¥¼ ì˜¤ë¥¸ìª½ ë¹ˆì¹¸ìœ¼ë¡œ ë“œë˜ê·¸í•˜ì—¬ ì˜®ê²¨ë³´ì„¸ìš”!</p>

    <div id="game-container">
        <div id="card-pool"></div>

        <div id="drop-zones">
            <div class="slot" data-step="1" data-answer="2"></div>
            <div class="slot" data-step="2" data-answer="4"></div>
            <div class="slot" data-step="3" data-answer="1"></div>
            <div class="slot" data-step="4" data-answer="3"></div>
        </div>
    </div>

    <button id="check-btn" onclick="checkAnswer()">ì •ë‹µ í™•ì¸í•˜ê¸°!</button>

    <script>
        // ìŠ¤í† ë¦¬ ë°ì´í„° (idëŠ” ì •ë‹µ ìˆœì„œì…ë‹ˆë‹¤)
        const storyData = [
            { id: 1, text: "ì „ìŸ ì¤‘ì—ë„ í• ì•„ë²„ì§€ëŠ” ë¬µë¬µíˆ ë‚˜ë¬´ë¥¼ ì‹¬ì—ˆê³ , ì–´ë¦° ë‚˜ë¬´ë“¤ì´ ìˆ²ì„ ì´ë£¨ê¸° ì‹œì‘í–ˆì–´ìš”.", img: "ğŸŒ²" },
            { id: 2, text: "ì—¬í–‰ìëŠ” í™©íí•˜ê³  ë©”ë§ˆë¥¸ ë•…ì—ì„œ í™€ë¡œ ë„í† ë¦¬ë¥¼ ì‹¬ê³  ìˆëŠ” ë¶€í”¼ì— í• ì•„ë²„ì§€ë¥¼ ë§Œë‚¬ì–´ìš”.", img: "ğŸ‘¨â€ğŸŒ¾" },
            { id: 3, text: "ì‹œê°„ì´ í˜ëŸ¬ ë§ˆì„ì—ëŠ” ë¬¼ì´ íë¥´ê³  ê½ƒì´ í”¼ì—ˆìœ¼ë©°, ì‚¬ëŒë“¤ì´ ëŒì•„ì™€ í–‰ë³µí•˜ê²Œ ì‚´ê²Œ ë˜ì—ˆì–´ìš”.", img: "ğŸ¡" },
            { id: 4, text: "í• ì•„ë²„ì§€ëŠ” ë§¤ì¼ ì •ì„±ê» ê³ ë¥¸ ë„í† ë¦¬ 100ì•Œì„ ì •ì„±ìŠ¤ëŸ½ê²Œ ë•…ì— ì‹¬ìœ¼ì…¨ì–´ìš”.", img: "ğŸŒ°" }
        ];

        const cardPool = document.getElementById('card-pool');
        const slots = document.querySelectorAll('.slot');

        // ì¹´ë“œ ì„ê¸° ë° ìƒì„±
        function initGame() {
            const shuffled = [...storyData].sort(() => Math.random() - 0.5);
            
            shuffled.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card';
                card.draggable = true;
                card.id = `card-${item.id}`;
                card.innerHTML = `
                    <div style="font-size: 30px;">${item.img}</div>
                    <p>${item.text}</p>
                `;
                
                card.addEventListener('dragstart', dragStart);
                card.addEventListener('dragend', dragEnd);
                cardPool.appendChild(card);
            });
        }

        // ë“œë˜ê·¸ì•¤ë“œë¡­ ë¡œì§
        let draggedCard = null;

        function dragStart() {
            draggedCard = this;
            setTimeout(() => this.classList.add('dragging'), 0);
        }

        function dragEnd() {
            this.classList.remove('dragging');
        }

        slots.forEach(slot => {
            slot.addEventListener('dragover', e => e.preventDefault());
            slot.addEventListener('drop', function(e) {
                e.preventDefault();
                if (this.children.length === 0) {
                    this.appendChild(draggedCard);
                }
            });
        });

        cardPool.addEventListener('dragover', e => e.preventDefault());
        cardPool.addEventListener('drop', function() {
            this.appendChild(draggedCard);
        });

        // ì •ë‹µ ì²´í¬
        function checkAnswer() {
            let allCorrect = true;
            slots.forEach(slot => {
                const card = slot.querySelector('.card');
                const answerId = slot.getAttribute('data-answer');
                
                if (card && card.id === `card-${answerId}`) {
                    slot.classList.remove('error');
                    slot.classList.add('success');
                } else {
                    slot.classList.remove('success');
                    slot.classList.add('error');
                    allCorrect = false;
                }
            });

            if (allCorrect) {
                alert("í›Œë¥­í•´ìš”! ì—˜ì œì•„ë¥´ ë¶€í”¼ì— í• ì•„ë²„ì§€ì²˜ëŸ¼ ì¸ë‚´ì‹¬ì´ ëŒ€ë‹¨í•˜ì‹œë„¤ìš”! ğŸ‰");
            } else {
                alert("ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ë³´ì„¸ìš”. ì´ì•¼ê¸°ì˜ íë¦„ì´ ë§ëŠ”ì§€ í™•ì¸í•´ë³¼ê¹Œìš”?");
            }
        }

        initGame();
    </script>
</body>
</html>